<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=gbk" />
		<title>Untitled Document</title>
		<script src="util.js"></script>
		<script>
			function chooseTo(choose){
				var leftCbs=$("leftTabCb");
				for(var i=0;i<leftCbs.length;i++){
					leftCbs[i].checked=choose;
				}
			}
			function moveToRight(){
				var leftTab=$("#leftTab");
				var rightTab=$("#rightTab");
				var leftCbs=$("leftTabCb");
				/*for(var i=0;i<leftCbs.length;i++){
					if(leftCbs[i].checked){
						var code=leftCbs[i].value;
//						var name=getNextSibling(leftCbs[i].parentNode).innerHTML;
						var name=leftCbs[i].parentNode.parentNode.cells[1].innerHTML;
						var rowIdx=leftCbs[i].parentNode.parentNode.rowIndex;
						leftTab.deleteRow(rowIdx);
						i--;
					}
				}*/
				for(var i=leftCbs.length-1;i>=0;i--){
					if(leftCbs[i].checked){
						var code=leftCbs[i].value;
//						var name=getNextSibling(leftCbs[i].parentNode).innerHTML;
						var name=leftCbs[i].parentNode.parentNode.cells[1].innerHTML;
						var rowIdx=leftCbs[i].parentNode.parentNode.rowIndex;
						leftTab.deleteRow(rowIdx);
						var newTr=rightTab.insertRow(rightTab.rows.length);
						var chTd=newTr.insertCell(0);
						chTd.innerHTML="<input type='checkbox'  name='rightTabCb' />" ;
						var nameTd=newTr.insertCell(1);
						nameTd.align="center";
						nameTd.innerHTML=name;
						var codeTd=newTr.insertCell(2);
						codeTd.align="center";
						codeTd.innerHTML=code;
					}
				}
			}

			function moveToLeft(){
				var leftTab=$("#leftTab");
				var rightTab=$("#rightTab");
				var rightTabCbs=$("rightTabCb");
				for(var i=0;i<rightTabCbs.length;i++){
					if(rightTabCbs[i].checked){
						var name=rightTabCbs[i].parentNode.parentNode.cells[1].innerHTML;
						var code=rightTabCbs[i].parentNode.parentNode.cells[2].innerHTML;
						rightTab.deleteRow(rightTabCbs[i].parentNode.parentNode.rowIndex);
						i--;
						var newTr=leftTab.insertRow(leftTab.rows.length);
						var chTd=newTr.insertCell(0);
						chTd.innerHTML="<input type='checkbox' name='leftTabCb' value='"+code+"' />";
						var nameTd=newTr.insertCell(1);
						nameTd.align="center";
						nameTd.innerHTML=name;
					}
				}
			}
		</script>
	</head>
	<body>
		<table border="1" width="100%" >
			<tr>
				<th>可加入预算维度的预算科目</th>
				<td>&nbsp;</td>
				<th>已加入预算维度的预算科目</th>
			</tr>
			<tr>
				<td valign="top">
					<table border="1" width="100%" id="leftTab">
						<tr>
								<!-- 事件内部调用函数的时候的实参this代表  事件所在的元素节点-->
							<td><input type="checkbox" onclick="chooseTo(this.checked)" id="allCh"/></td>
							<th>预算科目名称(科目编码)</th>
						</tr>
						<tr>
							<td><input type="checkbox"  name="leftTabCb"  value="样例1的编码" /></td>
							<td align="center">样例1</td>
						</tr>
						<tr>
							<td><input type="checkbox"  name="leftTabCb"  value="样例2的编码" /></td>
							<td align="center">样例2</td>
						</tr>
						<tr>
							<td><input type="checkbox"  name="leftTabCb"  value="样例3的编码" /></td>
							<td align="center">样例3</td>
						</tr>
						<tr>
							<td><input type="checkbox"  name="leftTabCb"  value="样例4的编码" /></td>
							<td align="center">样例4</td>
						</tr>
						<tr>
							<td><input type="checkbox"  name="leftTabCb"  value="样例5的编码" /></td>
							<td align="center">样例5</td>
						</tr>
						<tr>
							<td><input type="checkbox"  name="leftTabCb"  value="样例6的编码" /></td>
							<td align="center">样例6</td>
						</tr>
						<tr>
							<td><input type="checkbox"  name="leftTabCb"  value="样例7的编码" /></td>
							<td align="center">样例7</td>
						</tr>
					</table>
				</td>
				<td >
					<table   width="100%">
						<tr>
							<td align="center"><input type="button" value="加入>>" onclick="moveToRight()" /></td><br/>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td align="center"><input type="button" value="<<移除"  onclick="moveToLeft()"/></td><br/>
						</tr>
					</table>
				</td>
				<td valign="top">
					<table border="1" width="100%" id="rightTab">
						<tr  id="tr1" >
							<td><input type="checkbox"    id="c1" /></td>
							<th>预算科目名称</th>
							<th>预算科目编码</th>
						</tr>
						<tr id="tr2">
							<td><input type="checkbox" id="c2" name="rightTabCb"   /></td>
							<td align="center" >样例0</td>
							<td align="center" >样例0的编码</td>
						</tr>
					</table>
				</td>
			</tr>	
		</table>
	</body>
</html>